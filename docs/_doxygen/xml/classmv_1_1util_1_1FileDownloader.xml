<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="classmv_1_1util_1_1FileDownloader" kind="class" language="C++" prot="public">
    <compoundname>mv::util::FileDownloader</compoundname>
    <basecompoundref prot="public" virt="non-virtual">QObject</basecompoundref>
    <includes refid="FileDownloader_8h" local="no">FileDownloader.h</includes>
    <innerclass refid="classmv_1_1util_1_1FileDownloader_1_1ByteArraySink" prot="protected">mv::util::FileDownloader::ByteArraySink</innerclass>
    <innerclass refid="classmv_1_1util_1_1FileDownloader_1_1Exception" prot="public">mv::util::FileDownloader::Exception</innerclass>
    <innerclass refid="classmv_1_1util_1_1FileDownloader_1_1FileSink" prot="protected">mv::util::FileDownloader::FileSink</innerclass>
    <innerclass refid="structmv_1_1util_1_1FileDownloader_1_1ISink" prot="protected">mv::util::FileDownloader::ISink</innerclass>
      <sectiondef kind="private-static-attrib">
      <memberdef kind="variable" id="classmv_1_1util_1_1FileDownloader_1ab61e9b49a8245e379cea84ad904dbbb6" prot="private" static="yes" constexpr="yes" mutable="no">
        <type>constexpr std::int32_t</type>
        <definition>constexpr std::int32_t mv::util::FileDownloader::maximumNumberOfRedirectsAllowed</definition>
        <argsstring></argsstring>
        <name>maximumNumberOfRedirectsAllowed</name>
        <initializer>= 10</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="484" column="35" bodyfile="Docs/external/core/ManiVault/src/util/FileDownloader.h" bodystart="484" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classmv_1_1util_1_1FileDownloader_1ad5b40ed257e045f0bd3f44cc5cf27db9" prot="private" static="yes" mutable="no">
        <type>QMap&lt; QUrl, QString &gt;</type>
        <definition>QMap&lt;QUrl, QString&gt; mv::util::FileDownloader::resolvedFileNamesForUrl</definition>
        <argsstring></argsstring>
        <name>resolvedFileNamesForUrl</name>
        <briefdescription>
<para>Puts a cap on the number of redirects. </para>
        </briefdescription>
        <detaileddescription>
<para>Malicious URLs could loop indefinitely </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="487" column="17" bodyfile="Docs/external/core/ManiVault/src/util/FileDownloader.h" bodystart="487" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classmv_1_1util_1_1FileDownloader_1a6698c42eeddc49c23f8237810bbd666f" prot="private" static="yes" mutable="no">
        <type>QMutex</type>
        <definition>QMutex mv::util::FileDownloader::resolvedFileNamesMutex</definition>
        <argsstring></argsstring>
        <name>resolvedFileNamesMutex</name>
        <briefdescription>
<para>Cache of resolved file names for URLs. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="488" column="19" bodyfile="Docs/external/core/ManiVault/src/util/FileDownloader.h" bodystart="488" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="public-static-func">
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1afa289d78f73470e34a3a25ab5c6fb39d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="classmv_1_1util_1_1SecureNetworkAccessManager" kindref="compound">SecureNetworkAccessManager</ref> &amp;</type>
        <definition>static SecureNetworkAccessManager&amp; mv::util::FileDownloader::sharedManager</definition>
        <argsstring>()</argsstring>
        <name>sharedManager</name>
        <briefdescription>
<para>Get the shared network access manager instance. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>Reference to the shared QNetworkAccessManager instance </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="188" column="39"/>
      </memberdef>
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1a7e2fe878a2585dbaa58621b0dd5d4828" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>QFuture&lt; QByteArray &gt;</type>
        <definition>static QFuture&lt;QByteArray&gt; mv::util::FileDownloader::downloadToByteArrayAsync</definition>
        <argsstring>(const QUrl &amp;url, Task *task=nullptr)</argsstring>
        <name>downloadToByteArrayAsync</name>
        <param>
          <type>const QUrl &amp;</type>
          <declname>url</declname>
        </param>
        <param>
          <type><ref refid="classmv_1_1Task" kindref="compound">Task</ref> *</type>
          <declname>task</declname>
          <defval>nullptr</defval>
        </param>
        <briefdescription>
<para>Download file to byte array asynchronously. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>url</parametername>
</parameternamelist>
<parameterdescription>
<para>URL of the file to download </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>task</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional task to associate with the download operation (must live in the main/GUI thread) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Future containing the downloaded data as byte array </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="196" column="20"/>
      </memberdef>
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1a3896185673a63182a1ceb652edc4081a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>QFuture&lt; QString &gt;</type>
        <definition>static QFuture&lt;QString&gt; mv::util::FileDownloader::downloadToFileAsync</definition>
        <argsstring>(const QUrl &amp;url, const QString &amp;targetDirectory=&quot;&quot;, Task *task=nullptr, bool overwriteAllowed=true)</argsstring>
        <name>downloadToFileAsync</name>
        <param>
          <type>const QUrl &amp;</type>
          <declname>url</declname>
        </param>
        <param>
          <type>const QString &amp;</type>
          <declname>targetDirectory</declname>
          <defval>&quot;&quot;</defval>
        </param>
        <param>
          <type><ref refid="classmv_1_1Task" kindref="compound">Task</ref> *</type>
          <declname>task</declname>
          <defval>nullptr</defval>
        </param>
        <param>
          <type>bool</type>
          <declname>overwriteAllowed</declname>
          <defval>true</defval>
        </param>
        <briefdescription>
<para>Download file from <computeroutput>url</computeroutput> to <computeroutput>targetDirectory</computeroutput> asynchronously. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>url</parametername>
</parameternamelist>
<parameterdescription>
<para>URL of the file to download </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>targetDirectory</parametername>
</parameternamelist>
<parameterdescription>
<para>Directory where the file should be saved (OS temporary dir when empty) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>task</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional task to associate with the download operation (must live in the main/GUI thread) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>overwriteAllowed</parametername>
</parameternamelist>
<parameterdescription>
<para>Whether it is ok to overwrite existing download </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Future containing the path to the downloaded file </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="206" column="20"/>
      </memberdef>
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1ab799fa83d9d62b6dea0c55f417482645" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>QFuture&lt; std::uint64_t &gt;</type>
        <definition>static QFuture&lt;std::uint64_t&gt; mv::util::FileDownloader::getDownloadSizeAsync</definition>
        <argsstring>(const QUrl &amp;url)</argsstring>
        <name>getDownloadSizeAsync</name>
        <param>
          <type>const QUrl &amp;</type>
          <declname>url</declname>
        </param>
        <briefdescription>
<para>Get the size of the file to be downloaded asynchronously. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>url</parametername>
</parameternamelist>
<parameterdescription>
<para>URL of the file to be downloaded </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Size of the file to be downloaded in bytes, 0 if size cannot be determined </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="213" column="20"/>
      </memberdef>
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1a70620143983183c279bf2ff1721c5afc" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>QFuture&lt; QDateTime &gt;</type>
        <definition>static QFuture&lt;QDateTime&gt; mv::util::FileDownloader::getLastModifiedAsync</definition>
        <argsstring>(const QUrl &amp;url)</argsstring>
        <name>getLastModifiedAsync</name>
        <param>
          <type>const QUrl &amp;</type>
          <declname>url</declname>
        </param>
        <briefdescription>
<para>Get the last modified date of the file at <computeroutput>url</computeroutput> asynchronously. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>url</parametername>
</parameternamelist>
<parameterdescription>
<para>URL of the file to check </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Last modified date of the file, QDateTime() if it cannot be determined </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="220" column="20"/>
      </memberdef>
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1ae58e461124266a81f4eb7b507cad6aae" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>QFuture&lt; QString &gt;</type>
        <definition>static QFuture&lt;QString&gt; mv::util::FileDownloader::getFinalFileNameAsync</definition>
        <argsstring>(const QUrl &amp;url)</argsstring>
        <name>getFinalFileNameAsync</name>
        <param>
          <type>const QUrl &amp;</type>
          <declname>url</declname>
        </param>
        <briefdescription>
<para>Get the final file name of the file at <computeroutput>url</computeroutput> asynchronously (works with redirected URL) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>url</parametername>
</parameternamelist>
<parameterdescription>
<para>URL of the file to check </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>QFuture that will contain the final file name of the file, or an empty string if it cannot be determined </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="227" column="20"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="private-static-func">
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1a7cf526c1e4bc69d9482b121145b62cca" prot="private" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <templateparamlist>
          <param>
            <type>typename SinkT</type>
          </param>
        </templateparamlist>
        <type>QFuture&lt; typename SinkT::Result &gt;</type>
        <definition>static QFuture&lt;typename SinkT::Result&gt; mv::util::FileDownloader::downloadWithSinkAsync</definition>
        <argsstring>(const QUrl &amp;url, const QString &amp;targetDirectory, Task *task, bool overwriteAllowed)</argsstring>
        <name>downloadWithSinkAsync</name>
        <param>
          <type>const QUrl &amp;</type>
          <declname>url</declname>
        </param>
        <param>
          <type>const QString &amp;</type>
          <declname>targetDirectory</declname>
        </param>
        <param>
          <type><ref refid="classmv_1_1Task" kindref="compound">Task</ref> *</type>
          <declname>task</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>overwriteAllowed</declname>
        </param>
        <briefdescription>
<para>Download with sink asynchronously. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="templateparam"><parameteritem>
<parameternamelist>
<parametername>SinkT</parametername>
</parameternamelist>
<parameterdescription>
<para>Sink type </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>url</parametername>
</parameternamelist>
<parameterdescription>
<para>URL of the file to download </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>targetDirectory</parametername>
</parameternamelist>
<parameterdescription>
<para>Directory where the file should be saved (OS temporary dir when empty) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>task</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional task to associate with the download operation (must live in the main/GUI thread) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>overwriteAllowed</parametername>
</parameternamelist>
<parameterdescription>
<para>Whether it is ok to overwrite existing download </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>QFuture that will be fulfilled with the sink result type (SinkT::Result) when the download completes </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="241" column="20" bodyfile="Docs/external/core/ManiVault/src/util/FileDownloader.h" bodystart="241" bodyend="472"/>
      </memberdef>
      <memberdef kind="function" id="classmv_1_1util_1_1FileDownloader_1a5a9a1bcda9c5078ee30eb3cea4aec0eb" prot="private" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void mv::util::FileDownloader::notifyError</definition>
        <argsstring>(const QString &amp;urlDisplayString, const QString &amp;errorString)</argsstring>
        <name>notifyError</name>
        <param>
          <type>const QString &amp;</type>
          <declname>urlDisplayString</declname>
        </param>
        <param>
          <type>const QString &amp;</type>
          <declname>errorString</declname>
        </param>
        <briefdescription>
<para>Notifies the user about a download error with the given <computeroutput>urlDisplayString</computeroutput> and <computeroutput>errorString</computeroutput>. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>urlDisplayString</parametername>
</parameternamelist>
<parameterdescription>
<para>Display string of the URL that was attempted to be downloaded </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>errorString</parametername>
</parameternamelist>
<parameterdescription>
<para>Error string describing the download issue </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="482" column="17"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>File downloader class. </para>
    </briefdescription>
    <detaileddescription>
<para>Helper class for simplifying file download</para>
<para><simplesect kind="author"><para>Thomas Kroes </para>
</simplesect>
</para>
    </detaileddescription>
    <location file="Docs/external/core/ManiVault/src/util/FileDownloader.h" line="38" column="1" bodyfile="Docs/external/core/ManiVault/src/util/FileDownloader.h" bodystart="39" bodyend="489"/>
    <listofallmembers>
      <member refid="classmv_1_1util_1_1FileDownloader_1a7e2fe878a2585dbaa58621b0dd5d4828" prot="public" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>downloadToByteArrayAsync</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1a3896185673a63182a1ceb652edc4081a" prot="public" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>downloadToFileAsync</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1a7cf526c1e4bc69d9482b121145b62cca" prot="private" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>downloadWithSinkAsync</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1ab799fa83d9d62b6dea0c55f417482645" prot="public" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>getDownloadSizeAsync</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1ae58e461124266a81f4eb7b507cad6aae" prot="public" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>getFinalFileNameAsync</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1a70620143983183c279bf2ff1721c5afc" prot="public" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>getLastModifiedAsync</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1ab61e9b49a8245e379cea84ad904dbbb6" prot="private" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>maximumNumberOfRedirectsAllowed</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1a5a9a1bcda9c5078ee30eb3cea4aec0eb" prot="private" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>notifyError</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1ad5b40ed257e045f0bd3f44cc5cf27db9" prot="private" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>resolvedFileNamesForUrl</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1a6698c42eeddc49c23f8237810bbd666f" prot="private" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>resolvedFileNamesMutex</name></member>
      <member refid="classmv_1_1util_1_1FileDownloader_1afa289d78f73470e34a3a25ab5c6fb39d" prot="public" virt="non-virtual"><scope>mv::util::FileDownloader</scope><name>sharedManager</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
